<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Cutesy Finds | The Pop Store</title>
  <meta name="description" content="Curated aesthetic finds delivered across Morocco." />
  <meta name="theme-color" content="#fff0f3" />

  <!-- Fonts: Modern Editorial & Friendly -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800;900&family=Quicksand:wght@400;600;700&family=Gochi+Hand&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet" />
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <style>
    /* =========================================
       1. DESIGN TOKENS
       ========================================= */
    :root {
      /* Colors */
      --bg-body: #ffffff;
      --text-dark: #0f0f11;
      --text-gray: #636366;
      
      /* Brand Accents - Vibrant & Pop */
      --color-primary: #ff477e;      /* Hot Pink */
      --color-primary-dim: #ff85a2;
      --color-accent: #a3b1e6;       /* Periwinkle */
      --color-peach: #ff9e96;        /* Peach */
      --color-sale: #ff3366;         /* Cute Berry Red */
      --color-success: #00b894;      /* Mint */
      --color-dark: #000000;
      
      /* Glass & UI */
      --glass-surface: rgba(255, 255, 255, 0.85);
      --glass-border: rgba(255, 255, 255, 0.6);
      --glass-blur: 24px;
      
      /* Shadows */
      --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.04);
      --shadow-card: 0 10px 30px -10px rgba(0,0,0,0.06);
      --shadow-pop: 0 20px 50px -10px rgba(255, 71, 126, 0.25);
      --shadow-float: 0 30px 60px -12px rgba(0,0,0,0.12);
      
      /* Shapes */
      --radius-sm: 16px;
      --radius-md: 28px;
      --radius-lg: 40px;
      --radius-pill: 999px;
      
      /* Layout */
      --header-h: 80px;
      --max-width: 98%; 
      --container-px: 1920px;
      --safe-bottom: env(safe-area-inset-bottom);
      
      /* Animation */
      --bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
      --smooth: cubic-bezier(0.25, 1, 0.5, 1);
    }

    /* =========================================
       2. RESET & BASE
       ========================================= */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
    
    html { font-size: 16px; scroll-behavior: smooth; height: 100%; }
    
    body {
      font-family: 'Quicksand', sans-serif;
      background-color: var(--bg-body);
      color: var(--text-dark);
      line-height: 1.5;
      overflow-x: hidden;
      min-height: 100%;
    }

    h1, h2, h3, h4 { font-family: 'Outfit', sans-serif; font-weight: 800; color: var(--text-dark); letter-spacing: -0.02em; }
    .serif { font-family: 'DM Serif Display', serif; }
    .hand { font-family: 'Gochi Hand', cursive; }

    img { display: block; max-width: 100%; height: auto; object-fit: cover; }
    button { border: none; background: none; cursor: pointer; font: inherit; outline: none; }
    a { text-decoration: none; color: inherit; cursor: pointer; }
    input, textarea, select { font-family: inherit; -webkit-appearance: none; }

    .container { width: 94%; max-width: var(--container-px); margin: 0 auto; }
    .hidden { display: none !important; }

    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.2); }

    /* =========================================
       3. BACKGROUND SYSTEM (High Contrast)
       ========================================= */
    .bg-wrapper {
      position: fixed; inset: 0; z-index: -1; overflow: hidden; pointer-events: none;
      background: #ffffff;
    }
    
    .noise-overlay {
      position: absolute; inset: 0; opacity: 0.05;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      z-index: 1;
      mix-blend-mode: multiply;
    }

    .orb {
      position: absolute; border-radius: 50%;
      filter: blur(100px); opacity: 0.5;
      animation: floatOrb 25s infinite ease-in-out alternate;
    }
    .orb-1 { top: -10%; left: -10%; width: 60vw; height: 60vw; background: #ffc4d6; animation-delay: 0s; }
    .orb-2 { bottom: -10%; right: -10%; width: 70vw; height: 70vw; background: #dbeaff; animation-delay: -5s; }
    .orb-3 { top: 40%; left: 30%; width: 50vw; height: 50vw; background: #fff4e6; animation-delay: -10s; }

    @keyframes floatOrb {
      0% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(40px, 60px) scale(1.1); }
      100% { transform: translate(-40px, -20px) scale(0.9); }
    }

    /* =========================================
       4. HEADER & NAV (Sleek Glass)
       ========================================= */
    header {
      position: fixed; top: 20px; left: 0; right: 0; z-index: 1000;
      pointer-events: none;
      display: flex; justify-content: center;
      padding: 0 3%;
    }

    .nav-glass {
      pointer-events: auto;
      width: 100%; max-width: 1400px;
      background: var(--glass-surface);
      backdrop-filter: blur(var(--glass-blur)); -webkit-backdrop-filter: blur(var(--glass-blur));
      border: 1px solid rgba(255,255,255,0.8);
      border-radius: var(--radius-pill);
      padding: 8px 8px 8px 32px;
      box-shadow: 0 10px 30px -5px rgba(0,0,0,0.05);
      display: flex; justify-content: space-between; align-items: center;
      transition: transform 0.3s var(--bounce);
    }

    .brand { font-family: 'Outfit', sans-serif; font-weight: 900; font-size: 1.5rem; letter-spacing: -0.02em; color: var(--text-dark); display: flex; align-items: center; gap: 6px; }
    .brand span { color: var(--color-primary); }

    .nav-links { display: flex; gap: 4px; }
    .nav-link {
      padding: 10px 24px; border-radius: var(--radius-pill);
      font-weight: 700; font-size: 0.95rem; color: var(--text-gray);
      transition: all 0.2s;
    }
    .nav-link:hover { color: var(--text-dark); background: rgba(0,0,0,0.04); }
    .nav-link.active { background: var(--text-dark); color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }

    .nav-actions { display: flex; gap: 8px; }

    /* Mobile Bottom Bar - LIQUID GLASS EFFECT */
    .mobile-bar {
      display: none; 
      position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
      width: 85%; max-width: 360px; z-index: 1000;
      
      /* Liquid Glass Properties */
      background: rgba(255, 255, 255, 0.65);
      backdrop-filter: blur(50px) saturate(180%);
      -webkit-backdrop-filter: blur(50px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.4);
      
      border-radius: 100px;
      padding: 12px 32px;
      justify-content: space-between; align-items: center;
      
      /* Depth & Glow */
      box-shadow: 
        0 20px 40px rgba(0,0,0,0.1),
        inset 0 0 0 0.5px rgba(255,255,255,0.6),
        inset 0 1px 20px rgba(255,255,255,0.8);
        
      padding-bottom: max(12px, var(--safe-bottom));
      transition: transform 0.3s var(--bounce);
    }
    
    .tab-btn {
      display: flex; flex-direction: column; align-items: center; gap: 2px;
      color: rgba(60, 60, 67, 0.6); /* Apple secondary label color */
      transition: all 0.3s var(--bounce);
      position: relative;
      cursor: pointer;
    }
    
    .tab-btn.active { 
      color: var(--color-primary); 
      transform: translateY(-4px); 
      text-shadow: 0 0 15px rgba(255, 71, 126, 0.3);
    }
    
    /* Liquid highlight dot */
    .tab-btn.active::after {
      content: ''; 
      position: absolute; bottom: -8px; 
      width: 5px; height: 5px; 
      background: var(--color-primary); 
      border-radius: 50%;
      box-shadow: 0 0 8px var(--color-primary);
    }
    
    .tab-icon { 
      font-size: 26px; 
      font-variation-settings: 'FILL' 0, 'wght' 400;
      transition: all 0.3s;
    }
    .tab-btn.active .tab-icon {
      font-variation-settings: 'FILL' 1, 'wght' 600;
    }
    
    .tab-label { font-size: 9px; font-weight: 700; opacity: 0.8; letter-spacing: 0.3px; }

    @media (max-width: 768px) {
      .nav-links { display: none; }
      .mobile-bar { display: flex; }
      header { top: 12px; padding: 0 16px; }
      .nav-glass { padding: 10px 20px; border-radius: 20px; }
      .nav-actions { display: none; }
      #app-view { padding-bottom: 120px; }
    }

    /* =========================================
       5. COMPONENTS
       ========================================= */
    /* Buttons */
    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap: 8px;
      padding: 14px 28px; border-radius: var(--radius-pill);
      font-family: 'Outfit', sans-serif; font-weight: 700; font-size: 1rem;
      transition: transform 0.2s var(--bounce), box-shadow 0.2s;
      cursor: pointer;
    }
    .btn:hover { transform: scale(1.02) translateY(-2px); }
    .btn:active { transform: scale(0.96); }

    .btn-primary {
      background: var(--text-dark); color: white;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }
    .btn-primary:hover {
      background: var(--color-primary);
      box-shadow: 0 15px 30px rgba(255, 71, 126, 0.4);
    }
    .btn-secondary {
      background: white; color: var(--text-dark);
      box-shadow: var(--shadow-sm); border: 2px solid transparent;
    }
    .btn-secondary:hover { border-color: var(--color-primary); color: var(--color-primary); }

    /* Icon Buttons */
    .btn-icon {
      width: 48px; height: 48px; border-radius: 50%;
      background: white; color: var(--text-dark);
      display: flex; align-items: center; justify-content: center;
      box-shadow: var(--shadow-sm); transition: 0.3s var(--bounce); position: relative;
    }
    .btn-icon:hover { transform: scale(1.1) rotate(10deg); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
    
    .badge {
      position: absolute; top: -2px; right: -2px;
      background: var(--color-sale); color: white;
      width: 20px; height: 20px; border-radius: 50%;
      font-size: 11px; font-weight: 800; border: 2px solid white;
      display: flex; align-items: center; justify-content: center;
      transform: scale(0); transition: 0.3s var(--bounce);
    }
    .badge.visible { transform: scale(1); }

    /* Page Transition */
    .view-section {
      display: none; opacity: 0; transform: translateY(20px);
      animation: fadeUp 0.5s var(--smooth) forwards;
      padding-top: 130px;
    }
    .view-section.active { display: block; }
    @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

    /* =========================================
       6. HERO (Edge-to-Edge)
       ========================================= */
    .hero-slider-section {
      position: relative;
      height: 65vh; 
      min-height: 500px;
      max-height: 700px;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-card);
      margin-bottom: 32px;
      width: 100%; 
    }

    .hero-slider { width: 100%; height: 100%; position: relative; }

    .slide {
      position: absolute; inset: 0;
      opacity: 0; transition: opacity 1s ease-in-out;
      background-size: cover; background-position: center 30%;
    }
    .slide.active { opacity: 1; }

    .slide-overlay {
      position: absolute; inset: 0;
      background: linear-gradient(to right, rgba(255,255,255, 0.9) 0%, rgba(255,255,255, 0.2) 60%, transparent 100%);
      display: flex; flex-direction: column; justify-content: center;
      padding: 0 6vw;
    }

    @media (max-width: 900px) {
      .hero-slider-section { height: 500px; border-radius: 24px; }
      .slide-overlay {
        background: linear-gradient(to top, rgba(255,255,255, 0.95) 0%, rgba(255,255,255, 0.4) 100%);
        padding: 40px; justify-content: flex-end; align-items: center; text-align: center; padding-bottom: 60px;
      }
    }

    /* DIMA MEGHRIB STRIPE */
    .dima-stripe {
      background: var(--color-sale);
      color: white;
      padding: 14px 0;
      border-radius: var(--radius-md);
      overflow: hidden;
      white-space: nowrap;
      position: relative;
      margin-bottom: 60px;
      box-shadow: 0 10px 30px rgba(224, 30, 55, 0.3);
      display: flex; align-items: center;
      transform: rotate(-1deg) scale(1.01);
      width: 100%;
    }

    .dima-track {
      display: inline-flex;
      animation: scroll 20s linear infinite;
    }

    .dima-text {
      font-family: 'Outfit', sans-serif;
      font-weight: 900;
      font-size: 1.8rem;
      letter-spacing: 2px;
      margin-right: 40px;
      text-transform: uppercase;
      display: flex; align-items: center; gap: 12px;
    }

    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* =========================================
       7. PRODUCTS & CARDS (Bezel-less & Clean)
       ========================================= */
    .cat-rail {
      display: flex; gap: 12px; overflow-x: auto; padding: 4px 4px 24px;
      scrollbar-width: none; -webkit-overflow-scrolling: touch; justify-content: flex-start;
    }
    .cat-chip {
      background: white; border: 1px solid rgba(0,0,0,0.05);
      padding: 12px 24px; border-radius: var(--radius-pill);
      display: flex; align-items: center; gap: 10px;
      font-weight: 700; white-space: nowrap; cursor: pointer;
      box-shadow: var(--shadow-sm); transition: 0.2s; font-size: 0.95rem; color: var(--text-gray);
    }
    .cat-chip:hover, .cat-chip.active {
      background: var(--text-dark); color: white; transform: translateY(-3px); box-shadow: var(--shadow-pop); border-color: var(--text-dark);
    }

    /* Modern Grid */
    .grid-wrap {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px;
    }
    
    /* Liquid Card Design */
    .card {
      background: white;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      transition: all 0.3s var(--smooth);
      cursor: pointer;
      position: relative; overflow: hidden;
      padding: 10px; /* Minimal bezel */
    }
    .card:hover { 
      transform: translateY(-8px); 
      box-shadow: var(--shadow-pop);
    }
    
    .card-img-box {
      position: relative; aspect-ratio: 1/1.1; border-radius: 20px;
      overflow: hidden; margin-bottom: 12px; background: #f4f4f5;
    }
    .card-img { width: 100%; height: 100%; transition: 0.6s var(--smooth); object-fit: cover; }
    .card:hover .card-img { transform: scale(1.05); }
    
    .tag-sale {
      position: absolute; top: 12px; left: 12px; z-index: 2;
      background: var(--color-sale); color: white; padding: 4px 12px;
      border-radius: 20px; font-size: 0.75rem; font-weight: 800;
      box-shadow: 0 4px 10px rgba(217, 4, 41, 0.3);
    }
    
    /* Magnetic Add Button */
    .btn-quick-add {
      position: absolute; bottom: 12px; right: 12px;
      width: 44px; height: 44px; border-radius: 50%;
      background: white; color: var(--text-dark);
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      transform: translateY(10px); opacity: 0; transition: 0.4s var(--bounce); z-index: 2;
    }
    .btn-quick-add:hover { background: var(--text-dark); color: white; }
    .card:hover .btn-quick-add { transform: translateY(0); opacity: 1; }
    
    @media (hover: none) { 
      .btn-quick-add { opacity: 1; transform: translateY(0); }
    }

    /* Mobile 1 Column Grid */
    @media (max-width: 768px) {
      .grid-wrap { grid-template-columns: 1fr; gap: 24px; }
      .card { padding: 16px; border-radius: 24px; }
      .card-img-box { border-radius: 20px; margin-bottom: 16px; }
      .card h3 { font-size: 1.2rem; margin-bottom: 4px; }
      .btn-quick-add { width: 44px; height: 44px; bottom: 12px; right: 12px; }
    }

    /* =========================================
       8. SHOP & PDP (Refined)
       ========================================= */
    .toolbar {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 32px; flex-wrap: wrap; gap: 16px;
    }
    .search-box {
      background: white; padding: 14px 24px; border-radius: var(--radius-pill);
      box-shadow: var(--shadow-sm); display: flex; align-items: center; gap: 12px;
      width: 100%; max-width: 360px; border: 2px solid transparent; transition: 0.2s;
    }
    .search-box:focus-within { border-color: var(--color-primary); box-shadow: 0 0 0 4px rgba(255, 71, 126, 0.2); }
    .search-box input { border: none; width: 100%; outline: none; font-weight: 700; color: var(--text-dark); font-size: 1rem; }

    .pdp-layout { display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: start; }
    
    /* Reduced PDP Bezel */
    .pdp-visual {
      background: white; border-radius: var(--radius-lg); 
      padding: 0; /* REMOVED PADDING FOR EDGE-TO-EDGE LOOK */
      display: flex; align-items: center; justify-content: center;
      position: sticky; top: 130px; box-shadow: var(--shadow-card);
      overflow: hidden; aspect-ratio: 1/1;
    }
    .pdp-visual img { width: 100%; height: 100%; object-fit: contain; }
    
    .pdp-content h1 { font-size: 3.5rem; line-height: 1.05; margin-bottom: 16px; }
    .price-block { display: flex; gap: 16px; align-items: center; margin-bottom: 32px; }
    
    /* CUTE RED DISCOUNT PRICE */
    .price-now { font-size: 2.5rem; font-weight: 800; color: var(--text-dark); }
    .price-now.sale-price { color: var(--color-sale); }
    
    .price-was { font-size: 1.5rem; text-decoration: line-through; color: var(--text-gray); opacity: 0.6; }
    
    .swatch-group { display: flex; gap: 16px; margin-bottom: 40px; }
    .swatch {
      width: 50px; height: 50px; border-radius: 50%; cursor: pointer;
      border: 3px solid white; box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      transition: 0.3s var(--bounce);
    }
    .swatch.selected { border-color: var(--text-dark); transform: scale(1.15); }

    @media (max-width: 900px) {
      .pdp-layout { grid-template-columns: 1fr; gap: 40px; }
      .pdp-visual { position: relative; top: 0; border-radius: 24px; }
      .pdp-content h1 { font-size: 2.5rem; }
    }

    /* =========================================
       9. DRAWERS & MODALS
       ========================================= */
    .scrim {
      position: fixed; inset: 0; background: rgba(10, 10, 10, 0.4); backdrop-filter: blur(12px);
      z-index: 2000; opacity: 0; pointer-events: none; transition: 0.4s;
    }
    .scrim.open { opacity: 1; pointer-events: auto; }

    .drawer {
      position: fixed; top: 0; right: 0; bottom: 0; width: 100%; max-width: 500px;
      background: white; z-index: 2100;
      transform: translateX(100%); transition: transform 0.5s var(--bounce);
      display: flex; flex-direction: column;
      box-shadow: -20px 0 60px rgba(0,0,0,0.2);
    }
    .drawer.open { transform: translateX(0); }

    @media (max-width: 768px) {
      .drawer { top: auto; width: 100%; height: 90vh; border-radius: 32px 32px 0 0; transform: translateY(100%); }
      .drawer.open { transform: translateY(0); }
    }

    .cart-row {
      display: flex; gap: 20px; align-items: center; margin-bottom: 20px;
      padding: 16px; background: #fff5f7; border-radius: 20px; border: 1px solid white;
    }
    .qty-box {
      display: flex; align-items: center; gap: 14px; background: white;
      padding: 6px 14px; border-radius: 20px; box-shadow: var(--shadow-sm);
    }

    /* =========================================
       10. UTILS
       ========================================= */
    .toast {
      position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%) translateY(40px);
      background: var(--text-dark); color: white; padding: 14px 28px;
      border-radius: 50px; font-weight: 700; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      display: flex; align-items: center; gap: 12px;
      opacity: 0; transition: 0.5s var(--bounce); z-index: 9999; pointer-events: none;
    }
    .toast.active { transform: translateX(-50%) translateY(0); opacity: 1; }

    footer { padding: 100px 0; text-align: center; color: var(--text-gray); font-weight: 500; }
  </style>
</head>
<body>

  <!-- Background Layer -->
  <div class="bg-wrapper">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <div class="noise-overlay"></div>
  </div>

  <!-- Drawers Overlay -->
  <div class="scrim" id="scrim" onclick="closeDrawers()"></div>

  <!-- Header -->
  <header>
    <div class="nav-glass">
      <a onclick="navigate('home')" class="brand">
        <span class="material-symbols-rounded" style="font-size:36px; color:var(--color-primary);">favorite</span>
        CutesyFinds.
      </a>
      
      <div class="nav-links">
        <a class="nav-link active" id="link-home" onclick="navigate('home')">Home</a>
        <a class="nav-link" id="link-shop" onclick="navigate('shop')">Shop</a>
        <a class="nav-link" id="link-about" onclick="navigate('about')">About</a>
      </div>

      <div class="nav-actions">
        <button class="btn-icon" onclick="openCart()">
          <span class="material-symbols-rounded">shopping_bag</span>
          <div class="badge" id="cartBadge">0</div>
        </button>
      </div>
    </div>
  </header>

  <!-- Content Container -->
  <div id="app-view">
    
    <!-- === HOME VIEW === -->
    <div id="view-home" class="view-section container active">
      
      <!-- COMPACT HERO SLIDER -->
      <section class="hero-slider-section">
        <div class="hero-slider" id="heroSlider">
          
          <!-- Slide 1 -->
          <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?q=80&w=2000');">
            <div class="slide-overlay">
              <span class="hand" style="font-size:2.5rem; color:var(--color-primary); transform:rotate(-2deg); margin-bottom:12px; display:inline-block;">New Drop! üå∏</span>
              <h1 style="font-size:clamp(3rem, 5vw, 6rem); line-height:1.05; margin-bottom:24px; color:var(--text-dark);">Making your space <br>soft & dreamy.</h1>
              <div style="display:flex; gap:20px;">
                <button class="btn btn-primary" style="padding:16px 36px; font-size:1.1rem;" onclick="navigate('shop')">Shop Collection</button>
              </div>
            </div>
          </div>

          <!-- Slide 2 -->
          <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?q=80&w=2000');">
            <div class="slide-overlay">
              <span class="hand" style="font-size:2.5rem; color:var(--color-primary); transform:rotate(-2deg); margin-bottom:12px; display:inline-block;">So Fluffy! üß∏</span>
              <h1 style="font-size:clamp(3rem, 5vw, 5.5rem); line-height:1.05; margin-bottom:24px; color:var(--text-dark);">Huggable friends <br>for everyone.</h1>
              <div style="display:flex; gap:20px;">
                <button class="btn btn-primary" style="padding:16px 36px; font-size:1.1rem;" onclick="filterShop('plushies'); navigate('shop');">Shop Plushies</button>
              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- DIMA MEGHRIB ANIMATED STRIPE -->
      <div class="dima-stripe">
        <div class="dima-track">
          <span class="dima-text"><span class="material-symbols-rounded">star</span> DIMA MEGHRIB üá≤üá¶</span>
          <span class="dima-text"><span class="material-symbols-rounded">star</span> DIMA MEGHRIB üá≤üá¶</span>
          <span class="dima-text"><span class="material-symbols-rounded">star</span> DIMA MEGHRIB üá≤üá¶</span>
          <span class="dima-text"><span class="material-symbols-rounded">star</span> DIMA MEGHRIB üá≤üá¶</span>
          <span class="dima-text"><span class="material-symbols-rounded">star</span> DIMA MEGHRIB üá≤üá¶</span>
          <span class="dima-text"><span class="material-symbols-rounded">star</span> DIMA MEGHRIB üá≤üá¶</span>
        </div>
      </div>

      <h2 style="margin-bottom:32px; font-size:2rem; padding: 0 10px;">Browse Vibe</h2>
      <div class="cat-rail">
        <button class="cat-chip" onclick="filterShop('all'); navigate('shop');">‚ú® All Items</button>
        <button class="cat-chip" onclick="filterShop('plushies'); navigate('shop');">üß∏ Plushies</button>
        <button class="cat-chip" onclick="filterShop('bags'); navigate('shop');">üéí Bags</button>
        <button class="cat-chip" onclick="filterShop('decor'); navigate('shop');">ü™¥ Decor</button>
        <button class="cat-chip" onclick="filterShop('sale'); navigate('shop');" style="color:var(--color-sale); border-color:var(--color-sale);">üî• Sale</button>
      </div>

      <h2 style="margin: 60px 0 40px; font-size:2rem; padding: 0 10px;">Trending Now</h2>
      <div class="grid-wrap" id="homeGrid"></div>
    </div>

    <!-- === SHOP VIEW === -->
    <div id="view-shop" class="view-section container">
      <div class="toolbar">
        <h1 style="font-size:3rem;">The Shop</h1>
        <div class="search-box">
          <span class="material-symbols-rounded" style="color:#ccc;">search</span>
          <input type="text" placeholder="Search items..." oninput="doSearch(this.value)">
        </div>
      </div>
      
      <div class="cat-rail" style="margin-bottom:40px;">
        <button class="cat-chip active" id="filt-all" onclick="filterShop('all')">All</button>
        <button class="cat-chip" id="filt-plushies" onclick="filterShop('plushies')">Plushies</button>
        <button class="cat-chip" id="filt-bags" onclick="filterShop('bags')">Bags</button>
        <button class="cat-chip" id="filt-decor" onclick="filterShop('decor')">Decor</button>
        <button class="cat-chip" id="filt-sale" onclick="filterShop('sale')">Sale</button>
      </div>

      <div class="grid-wrap" id="shopGrid"></div>
    </div>

    <!-- === PDP VIEW === -->
    <div id="view-product" class="view-section container">
      <button class="btn btn-secondary" onclick="goBack()" style="border-radius:50px; padding:10px 24px; margin-bottom:40px;">
        ‚Üê Back
      </button>
      <div class="pdp-layout" id="pdpContainer"></div>
    </div>

    <!-- === ABOUT VIEW === -->
    <div id="view-about" class="view-section container">
      <div style="text-align:center; max-width:900px; margin:0 auto;">
        <span class="hand" style="font-size:3rem; color:var(--color-primary);">Our Story</span>
        <h1 style="font-size:4rem; line-height:1.1; margin:24px 0 48px;">Spreading Joy,<br>One box at a time.</h1>
        <img src="https://images.unsplash.com/photo-1513201099705-a9746e1e201f?q=80&w=1400" style="width:100%; border-radius:40px; transform:rotate(-1deg); box-shadow:var(--shadow-pop); margin-bottom:60px;">
        <p style="font-size:1.4rem; color:var(--text-gray); line-height:1.8;">
          Launched in 2024, Cutesy Finds was born from a simple idea: the world needs more softness. We curate the fluffiest, dreamiest, and most aesthetic items to make your daily life feel like a movie scene.
        </p>
      </div>
    </div>

    <!-- === CHECKOUT VIEW === -->
    <div id="view-checkout" class="view-section container" style="max-width:800px;">
      <h1 style="text-align:center; margin-bottom:48px;">Secure Checkout</h1>
      <div style="background:white; padding:48px; border-radius:40px; box-shadow:var(--shadow-card);">
        <form onsubmit="submitOrder(event)">
          <div style="margin-bottom:24px;">
            <label style="font-weight:800; display:block; margin-bottom:8px;">Full Name</label>
            <input id="cxName" required style="width:100%; padding:18px; border:2px solid #eee; border-radius:16px; font-weight:700; font-size:1rem;">
          </div>
          <div style="display:grid; grid-template-columns: 1fr 1fr; gap:24px; margin-bottom:24px;">
            <div>
              <label style="font-weight:800; display:block; margin-bottom:8px;">Phone</label>
              <input id="cxPhone" type="tel" required style="width:100%; padding:18px; border:2px solid #eee; border-radius:16px; font-weight:700; font-size:1rem;">
            </div>
            <div>
              <label style="font-weight:800; display:block; margin-bottom:8px;">City</label>
              <select id="cxCity" required style="width:100%; padding:18px; border:2px solid #eee; border-radius:16px; font-weight:700; font-size:1rem; background:white;">
                <option value="">Select...</option>
                <option>Casablanca</option><option>Rabat</option><option>Marrakech</option><option>Tangier</option>
              </select>
            </div>
          </div>
          <div style="margin-bottom:32px;">
            <label style="font-weight:800; display:block; margin-bottom:8px;">Address</label>
            <textarea id="cxAddress" rows="3" required style="width:100%; padding:18px; border:2px solid #eee; border-radius:16px; font-weight:700; font-size:1rem;"></textarea>
          </div>
          
          <div style="background:#fff5f7; padding:32px; border-radius:24px; margin-bottom:32px;">
            <div style="display:flex; justify-content:space-between; font-weight:800; font-size:1.5rem;">
              <span>Total</span>
              <span id="cxTotal">0 DH</span>
            </div>
            <p style="color:var(--text-gray); font-size:1rem; margin-top:8px;">Cash on Delivery (COD)</p>
          </div>
          
          <button type="submit" class="btn btn-primary" style="width:100%; font-size:1.2rem; padding:22px;">Place Order</button>
        </form>
      </div>
    </div>

    <footer>¬© 2026 Cutesy Finds. All rights reserved.</footer>
  </div>

  <!-- Cart Drawer -->
  <div class="drawer" id="cartDrawer">
    <div style="padding:40px; display:flex; justify-content:space-between; align-items:center;">
      <h2 style="font-size:2.2rem; margin:0;">Bag</h2>
      <button class="btn-icon" onclick="closeDrawers()"><span class="material-symbols-rounded">close</span></button>
    </div>
    <div style="flex:1; overflow-y:auto; padding:0 40px;" id="cartList"></div>
    <div style="padding:40px; background:#fff5f7;">
      <div style="display:flex; justify-content:space-between; font-weight:800; font-size:1.6rem; margin-bottom:24px;">
        <span>Total</span>
        <span id="drawerTotal">0 DH</span>
      </div>
      <button class="btn btn-primary" style="width:100%; padding:22px; font-size:1.1rem;" onclick="navigate('checkout'); closeDrawers();">Checkout</button>
    </div>
  </div>

  <!-- Mobile Bottom Nav -->
  <div class="mobile-bar">
    <div class="tab-btn active" id="tab-home" onclick="navigate('home')">
      <span class="material-symbols-rounded tab-icon">home</span>
      <span class="tab-label">Home</span>
    </div>
    <div class="tab-btn" id="tab-shop" onclick="navigate('shop')">
      <span class="material-symbols-rounded tab-icon">grid_view</span>
      <span class="tab-label">Shop</span>
    </div>
    <div class="tab-btn" id="tab-cart" onclick="openCart()">
      <div style="position:relative;">
        <span class="material-symbols-rounded tab-icon">local_mall</span>
        <div class="badge" id="mobBadge" style="top:-6px; right:-6px;">0</div>
      </div>
      <span class="tab-label">Cart</span>
    </div>
  </div>

  <!-- Notification -->
  <div class="toast" id="toast">
    <span class="material-symbols-rounded" style="color:var(--color-success);">check_circle</span>
    <span id="toastMsg">Success</span>
  </div>

  <script>
    /* --- DATA --- */
    const products = [
      { id: 1, name: "Hello Kitty Plush", price: 450, oldPrice: 550, cat: "plushies", badge: "Best", img: "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?w=800", desc: "Super soft premium plushie.", variants: [{name:"Pink", hex:"#ff8fa3"}, {name:"Blue", hex:"#a2d2ff"}] },
      { id: 2, name: "Cloud Mug", price: 150, oldPrice: 0, cat: "decor", img: "https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=800", desc: "Hand-painted ceramic.", variants: [{name:"Cream", hex:"#fefae0"}] },
      { id: 3, name: "Fluffy Tote", price: 350, oldPrice: 400, cat: "bags", badge: "New", img: "https://images.unsplash.com/photo-1585936529565-18755c0a3733?w=800", desc: "Aesthetic daily tote.", variants: [{name:"White", hex:"#fff"}] },
      { id: 4, name: "Kuromi Keyring", price: 120, oldPrice: 0, cat: "accessories", img: "https://images.unsplash.com/photo-1606109919561-9f935f8d975c?w=800", desc: "Acrylic charm.", variants: [{name:"Purple", hex:"#cdb4db"}] },
      { id: 5, name: "Pastel Mat", price: 220, oldPrice: 0, cat: "decor", img: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800", desc: "Waterproof desk mat.", variants: [{name:"Peach", hex:"#ffc8dd"}] },
      { id: 6, name: "Flower Cushion", price: 280, oldPrice: 350, cat: "decor", badge: "Sale", img: "https://images.unsplash.com/photo-1584100936595-c0654b55a2e6?w=800", desc: "Plush seating cushion.", variants: [{name:"Yellow", hex:"#ffe5b4"}] },
      { id: 7, name: "Heart Mirror", price: 200, oldPrice: 250, cat: "decor", img: "https://images.unsplash.com/photo-1618220179428-22790b461013?w=800", desc: "Vintage style heart mirror.", variants: [{name:"Red", hex:"#ff4d4d"}] },
      { id: 8, name: "Cinnamoroll Lamp", price: 300, oldPrice: 0, cat: "decor", img: "https://images.unsplash.com/photo-1534211303014-956407519934?w=800", desc: "Soft glow night light.", variants: [{name:"White", hex:"#fff"}] }
    ];

    /* --- STATE --- */
    let cart = JSON.parse(localStorage.getItem('cart_v22') || '[]');
    let activeCat = 'all';
    let historyStack = ['home'];

    /* --- INIT --- */
    window.onload = () => {
      navigate('home', false);
      updateCart();
      startSlider();
    };

    /* --- SLIDER --- */
    function startSlider() {
      const slides = document.querySelectorAll('.slide');
      if(slides.length < 2) return;
      let current = 0;
      setInterval(() => {
        slides[current].classList.remove('active');
        current = (current + 1) % slides.length;
        slides[current].classList.add('active');
      }, 5000);
    }

    /* --- ROUTER --- */
    function navigate(viewId, push = true) {
      if(push) historyStack.push(viewId);
      window.scrollTo(0,0);
      
      // Toggle Views
      document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
      document.getElementById(`view-${viewId}`).classList.add('active');
      
      // Nav State
      document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
      
      if(document.getElementById(`link-${viewId}`)) document.getElementById(`link-${viewId}`).classList.add('active');
      if(document.getElementById(`tab-${viewId}`)) document.getElementById(`tab-${viewId}`).classList.add('active');

      // Logic
      if(viewId === 'home') renderHome();
      if(viewId === 'shop') filterShop(activeCat);
      if(viewId === 'checkout') updateCheckout();
    }

    function goBack() {
      if(historyStack.length > 1) {
        historyStack.pop();
        navigate(historyStack[historyStack.length - 1], false);
      } else {
        navigate('shop');
      }
    }

    /* --- RENDERERS --- */
    function renderHome() {
      const grid = document.getElementById('homeGrid');
      grid.innerHTML = products.slice(0, 4).map(p => makeCard(p)).join('');
    }

    function renderShop(list) {
      const grid = document.getElementById('shopGrid');
      grid.innerHTML = list.map(p => makeCard(p)).join('');
      
      document.querySelectorAll('.cat-chip').forEach(el => el.classList.remove('active'));
      if(document.getElementById(`filt-${activeCat}`)) 
        document.getElementById(`filt-${activeCat}`).classList.add('active');
    }

    function openProduct(id) {
      const p = products.find(x => x.id === id);
      const discount = p.oldPrice > p.price ? Math.round((1 - p.price/p.oldPrice)*100) : 0;
      
      const html = `
        <div class="pdp-visual">
          ${discount ? `<div class="tag-sale" style="top:40px; left:40px; font-size:1.1rem; padding:10px 20px;">-${discount}%</div>` : ''}
          <img src="${p.img}">
        </div>
        <div class="pdp-content">
          <span style="color:var(--color-primary); font-weight:800; letter-spacing:1px; text-transform:uppercase;">${p.cat}</span>
          <h1>${p.name}</h1>
          <div class="price-block">
            <span class="price-now ${discount > 0 ? 'sale-price' : ''}">${p.price} DH</span>
            ${p.oldPrice ? `<span class="price-was">${p.oldPrice} DH</span>` : ''}
          </div>
          <p style="color:var(--text-gray); font-size:1.2rem; line-height:1.7; margin-bottom:40px;">${p.desc}</p>
          
          <h4 style="margin-bottom:16px;">Select Color</h4>
          <div class="swatch-group">
            ${p.variants.map((v, i) => `<div class="swatch ${i===0?'selected':''}" style="background:${v.hex}" onclick="selectSwatch(this, '${v.name}')"></div>`).join('')}
          </div>
          
          <div style="display:flex; gap:16px;">
            <button class="btn btn-primary" style="flex:1; padding:24px; font-size:1.2rem;" onclick="addToCart(${p.id})">Add to Cart</button>
            <button class="btn btn-secondary" style="width:72px; border-radius:24px;"><span class="material-symbols-rounded" style="font-size:28px;">favorite_border</span></button>
          </div>
        </div>
      `;
      document.getElementById('pdpContainer').innerHTML = html;
      window.selVar = p.variants[0].name;
      navigate('product');
    }

    function makeCard(p) {
      const discount = p.oldPrice > p.price ? Math.round((1 - p.price/p.oldPrice)*100) : 0;
      return `
        <div class="card" onclick="openProduct(${p.id})">
          <div class="card-img-box">
            <img src="${p.img}" class="card-img" loading="lazy">
            ${discount ? `<div class="tag-sale">-${discount}%</div>` : (p.badge ? `<div class="tag-sale" style="background:var(--text-dark);">${p.badge}</div>` : '')}
            <button class="btn-quick-add" onclick="event.stopPropagation(); addToCart(${p.id}, '${p.variants[0].name}')">
              <span class="material-symbols-rounded">add</span>
            </button>
          </div>
          <h3 style="margin-bottom:6px; font-size:1.1rem;">${p.name}</h3>
          <div style="display:flex; gap:8px; align-items:center;">
            <span style="font-weight:800; font-size:1.1rem; color:${discount ? 'var(--color-sale)' : 'var(--text-dark)'};">${p.price} DH</span>
            ${p.oldPrice ? `<span style="font-size:0.9rem; text-decoration:line-through; color:var(--text-gray);">${p.oldPrice} DH</span>` : ''}
          </div>
        </div>
      `;
    }

    /* --- LOGIC --- */
    function filterShop(cat) {
      activeCat = cat;
      let items = products;
      if(cat === 'sale') items = products.filter(p => p.oldPrice > p.price);
      else if(cat !== 'all') items = products.filter(p => p.cat === cat);
      renderShop(items);
    }

    function doSearch(val) {
      const term = val.toLowerCase();
      const items = products.filter(p => p.name.toLowerCase().includes(term));
      renderShop(items);
    }

    function selectSwatch(el, name) {
      el.parentNode.querySelectorAll('.swatch').forEach(e => e.classList.remove('selected'));
      el.classList.add('selected');
      window.selVar = name;
    }

    function addToCart(id, variantName) {
      const v = variantName || window.selVar;
      const p = products.find(x => x.id === id);
      const exist = cart.find(i => i.id === id && i.variant === v);
      if(exist) exist.qty++;
      else cart.push({...p, variant: v, qty: 1});
      
      updateCart();
      notify("Added to Bag! üõçÔ∏è");
    }

    function updateCart() {
      localStorage.setItem('cart_v22', JSON.stringify(cart));
      
      const totalQty = cart.reduce((a,b)=>a+b.qty,0);
      const totalPrice = cart.reduce((a,b)=>a+(b.price*b.qty),0);
      
      document.getElementById('cartBadge').innerText = totalQty;
      document.getElementById('mobBadge').innerText = totalQty;
      document.getElementById('cartBadge').classList.toggle('visible', totalQty > 0);
      document.getElementById('mobBadge').classList.toggle('visible', totalQty > 0);
      
      document.getElementById('drawerTotal').innerText = totalPrice + " DH";
      if(document.getElementById('cxTotal')) document.getElementById('cxTotal').innerText = totalPrice + " DH";
      
      const list = document.getElementById('cartList');
      if(cart.length === 0) list.innerHTML = `<div style="text-align:center; margin-top:60px; opacity:0.5;"><span class="material-symbols-rounded" style="font-size:64px;">shopping_basket</span><p>Empty</p></div>`;
      else {
        list.innerHTML = cart.map((i, idx) => `
          <div class="cart-row">
            <img src="${i.img}" style="width:70px; height:70px; border-radius:12px; object-fit:cover;">
            <div style="flex:1;">
              <div style="font-weight:800; font-size:1.1rem;">${i.name}</div>
              <div style="font-size:0.9rem; color:var(--text-gray);">${i.variant}</div>
              <div style="font-weight:700; color:var(--color-primary);">${i.price} DH</div>
            </div>
            <div class="qty-box">
              <span class="material-symbols-rounded" style="font-size:20px; cursor:pointer;" onclick="modQty(${idx}, -1)">remove</span>
              <span style="font-weight:700; width:16px; text-align:center;">${i.qty}</span>
              <span class="material-symbols-rounded" style="font-size:20px; cursor:pointer;" onclick="modQty(${idx}, 1)">add</span>
            </div>
          </div>
        `).join('');
      }
    }

    function modQty(idx, n) {
      if(cart[idx].qty + n <= 0) cart.splice(idx, 1);
      else cart[idx].qty += n;
      updateCart();
    }

    function openCart() {
      document.getElementById('cartDrawer').classList.add('open');
      document.getElementById('scrim').classList.add('open');
    }
    function closeDrawers() {
      document.querySelectorAll('.drawer').forEach(e => e.classList.remove('open'));
      document.getElementById('scrim').classList.remove('open');
    }

    function notify(msg) {
      const t = document.getElementById('toast');
      document.getElementById('toastMsg').innerText = msg;
      t.classList.add('active');
      setTimeout(() => t.classList.remove('active'), 3000);
    }

    function updateCheckout() {
      if(cart.length === 0) { notify("Cart is empty"); navigate('shop'); }
      updateCart(); 
    }

    async function submitOrder(e) {
      e.preventDefault();
      const btn = e.target.querySelector('button');
      const originalText = btn.innerText;
      btn.innerText = 'Processing...'; btn.disabled = true;

      // Google Forms Integration
      const formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSd0zZdALDRSoJc-zU1UpLyyoqSm43T1tBCIfTwWRiUmfdOUWA/formResponse";
      const data = new URLSearchParams();
      data.append('entry.104647828', document.getElementById('cxName').value);
      data.append('entry.1867044447', document.getElementById('cxPhone').value);
      data.append('entry.956879257', document.getElementById('cxCity').value);
      data.append('entry.2069920131', document.getElementById('cxAddress').value);
      data.append('entry.274746768', cart.map(i => `${i.qty}x ${i.name} (${i.variant})`).join(', '));
      data.append('entry.872776128', document.getElementById('drawerTotal').innerText);

      try {
        await fetch(formUrl, { method: 'POST', mode: 'no-cors', body: data });
        cart = []; updateCart();
        navigate('home');
        notify("Order Placed Successfully! üéâ");
      } catch (err) { notify("Error. Try again."); }
      
      btn.innerText = originalText; btn.disabled = false;
    }
  </script>
</body>
</html>
