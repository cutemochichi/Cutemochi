<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Cutesy Finds | The Pop Store</title>
  <meta name="description" content="Curated aesthetic finds delivered across Morocco." />
  <meta name="theme-color" content="#fff0f3" />

  <!-- Fonts: Modern Editorial & Friendly -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800;900&family=Quicksand:wght@400;600;700&family=Gochi+Hand&family=DM+Serif+Display:ital@0;1&display=swap"
    rel="stylesheet" />

  <!-- Icons -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Background Layer -->
  <div class="bg-wrapper">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <div class="noise-overlay"></div>
  </div>

  <!-- Drawers Overlay -->
  <div class="scrim" id="scrim" onclick="closeDrawers()"></div>

  <!-- Header -->
  <header>
    <div class="nav-glass">
      <a onclick="navigate('home')" class="brand">
        <span class="material-symbols-rounded" style="font-size:32px; color:var(--color-primary);">favorite</span>
        CutesyFinds.
      </a>

      <div class="nav-links">
        <a class="nav-link active" id="link-home" onclick="navigate('home')">Accueil</a>
        <a class="nav-link" id="link-shop" onclick="navigate('shop')">Boutique</a>
        <a class="nav-link" id="link-about" onclick="navigate('about')">√Ä Propos</a>
      </div>

      <div class="nav-actions">
        <button class="btn-icon" onclick="openCart()">
          <span class="material-symbols-rounded">shopping_bag</span>
          <div class="badge" id="cartBadge">0</div>
        </button>
      </div>
    </div>
  </header>

  <!-- Content Container -->
  <div id="app-view">

    <!-- === HOME VIEW === -->
    <div id="view-home" class="view-section container active">

      <!-- HERO SLIDER (Dynamic) -->
      <section class="hero-slider-section">
        <div class="hero-slider" id="heroSlider">
          <!-- Content rendered by script.js -->
        </div>
      </section>

      <h2 style="margin-bottom:24px; font-size:1.8rem; padding: 0 10px;">Parcourir</h2>
      <div class="cat-rail">
        <button class="cat-chip" onclick="filterShop('all'); navigate('shop');">‚ú® Tout</button>
        <button class="cat-chip" onclick="filterShop('plushies'); navigate('shop');">üß∏ Peluches</button>
        <button class="cat-chip" onclick="filterShop('bags'); navigate('shop');">üéí Sacs</button>
        <button class="cat-chip" onclick="filterShop('decor'); navigate('shop');">ü™¥ D√©co</button>
        <button class="cat-chip" onclick="filterShop('sale'); navigate('shop');" style="color:var(--color-sale);">üî•
          Soldes</button>
      </div>

      <h2 style="margin: 60px 0 32px; font-size:1.8rem; padding: 0 10px;">Tendance</h2>
      <div class="grid-wrap" id="homeGrid"></div>
    </div>

    <!-- === SHOP VIEW === -->
    <div id="view-shop" class="view-section container">
      <div
        style="display:flex; justify-content:space-between; align-items:center; margin-bottom:32px; flex-wrap:wrap; gap:16px;">
        <h1 style="font-size:3rem;">La Boutique</h1>
      </div>

      <div class="cat-rail" style="margin-bottom:40px;">
        <button class="cat-chip active" id="filt-all" onclick="filterShop('all')">Tout</button>
        <button class="cat-chip" id="filt-plushies" onclick="filterShop('plushies')">Peluches</button>
        <button class="cat-chip" id="filt-bags" onclick="filterShop('bags')">Sacs</button>
        <button class="cat-chip" id="filt-decor" onclick="filterShop('decor')">D√©co</button>
        <button class="cat-chip" id="filt-sale" onclick="filterShop('sale')">Soldes</button>
      </div>

      <div class="grid-wrap" id="shopGrid"></div>
    </div>

    <!-- === PDP VIEW === -->
    <div id="view-product" class="view-section container">
      <button class="btn btn-secondary" onclick="goBack()"
        style="border-radius:50px; padding:10px 24px; margin-bottom:20px;">
        ‚Üê Retour
      </button>
      <div class="pdp-layout" id="pdpContainer"></div>
    </div>

    <!-- === ABOUT VIEW === -->
    <div id="view-about" class="view-section container">
      <div style="text-align:center; max-width:800px; margin:0 auto; padding-top:40px;">
        <span class="hand" style="font-size:3rem; color:var(--color-primary);">Notre Histoire</span>
        <h1 style="font-size:3.5rem; line-height:1.1; margin:24px 0 48px;">R√©pandre la Joie,<br>Une bo√Æte √† la fois.
        </h1>
        <p style="font-size:1.25rem; color:var(--text-gray); line-height:1.8;">
          Lanc√©e en 2024, Cutesy Finds est n√©e d'une id√©e simple : le monde a besoin de plus de douceur. Nous
          s√©lectionnons
          les articles les plus moelleux, r√™veurs et esth√©tiques pour faire de votre quotidien une sc√®ne de film.
        </p>
      </div>
    </div>

    <!-- === CHECKOUT VIEW === -->
    <div id="view-checkout" class="view-section container" style="max-width:700px;">
      <h1 style="text-align:center; margin-bottom:40px;">Paiement S√©curis√©</h1>
      <div class="checkout-box">
        <form onsubmit="submitOrder(event)">
          <div class="form-group">
            <label class="form-label">Nom Complet</label>
            <input id="cxName" required class="form-input" placeholder="Votre Nom">
          </div>
          <div class="form-row">
            <div>
              <label class="form-label">T√©l√©phone</label>
              <input id="cxPhone" type="tel" required class="form-input" placeholder="06...">
            </div>
            <div>
              <label class="form-label">Ville</label>
              <!-- Custom Dropdown -->
              <div class="custom-select" id="citySelect">
                <div class="select-trigger" onclick="toggleCityDropdown()" id="cityTrigger">S√©lectionner...</div>
                <div class="select-dropdown" id="cityOptions"></div>
              </div>
              <input type="hidden" id="cxCityValue" value=""> <!-- Hidden input for logic -->

              <div id="deliveryInfo"></div>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Adresse</label>
            <textarea id="cxAddress" rows="3" required class="form-input" placeholder="Rue, Apt..."></textarea>
          </div>

          <!-- Order Items Summary -->
          <div id="checkoutItems" style="margin-bottom:24px; border-top:1px solid #eee; padding-top:16px;"></div>

          <div class="summary-box">
            <div style="display:flex; justify-content:space-between; font-weight:800; font-size:1.4rem;">
              <span>Total</span>
              <span id="cxTotal">0 DH</span>
            </div>
            <p style="color:var(--text-gray); font-size:0.9rem; margin-top:8px;">Paiement √† la livraison (COD)</p>
          </div>

          <button type="submit" class="btn btn-primary" style="width:100%; font-size:1.1rem; padding:20px;">Confirmer la
            Commande</button>
        </form>
      </div>
    </div>

    <footer style="padding: 80px 0; text-align: center; color: var(--text-gray); font-weight: 500;">
      ¬© 2026 Cutesy Finds. Tous droits r√©serv√©s.
    </footer>
  </div>

  <!-- Cart Drawer -->
  <div class="drawer" id="cartDrawer">
    <div style="padding:32px; display:flex; justify-content:space-between; align-items:center;">
      <h2 style="font-size:2rem; margin:0;">Panier</h2>
      <button class="btn-icon" onclick="closeDrawers()"><span class="material-symbols-rounded">close</span></button>
    </div>
    <div style="flex:1; overflow-y:auto; padding:0 32px;" id="cartList"></div>
    <div style="padding:32px; background:#f9f9fa;">
      <div style="display:flex; justify-content:space-between; font-weight:800; font-size:1.5rem; margin-bottom:24px;">
        <span>Total</span>
        <span id="drawerTotal">0 DH</span>
      </div>
      <button class="btn btn-primary" style="width:100%; padding:20px; font-size:1.1rem;"
        onclick="navigate('checkout'); closeDrawers();">Payer</button>
    </div>
  </div>

  <!-- Mobile Bottom Nav -->
  <div class="mobile-bar">
    <div class="tab-btn active" id="tab-home" onclick="navigate('home')">
      <span class="material-symbols-rounded tab-icon">home</span>
      <span class="tab-label">Accueil</span>
    </div>
    <div class="tab-btn" id="tab-shop" onclick="navigate('shop')">
      <span class="material-symbols-rounded tab-icon">grid_view</span>
      <span class="tab-label">Boutique</span>
    </div>
    <div class="tab-btn" id="tab-cart" onclick="openCart()">
      <div style="position:relative;">
        <span class="material-symbols-rounded tab-icon">local_mall</span>
        <div class="badge" id="mobBadge" style="top:-2px; right:-6px;">0</div>
      </div>
      <span class="tab-label">Panier</span>
    </div>
  </div>

  <!-- Notification -->
  <div class="toast" id="toast">
    <span class="material-symbols-rounded" style="color:var(--color-success);">check_circle</span>
    <span id="toastMsg">Success</span>
  </div>

  <!-- App Script -->
  <script src="cities.js"></script>
  <script src="script.js"></script>
</body>

</html>